import { Meta } from '@storybook/blocks';

import * as SvelteScrollerStories from './SvelteScroller.stories.svelte';

<Meta of={SvelteScrollerStories} />

# SvelteScroller

The `SvelteScroller` component is the base Scroller component that powers the [`Scroller` component](?path=/story/components-graphics-scroller--docs). It is a Svelte 5 version of the [svelte-scroller](https://github.com/sveltejs/svelte-scroller).

This component allows for customisation that the [`Scroller` component](?path=/story/components-graphics-scroller--docs) can't handle.

> **Important‚ùó:** Make sure each foreground step's container is a div with the class `step-foreground-container`. If you're modifying the class, pass the appropriate selector to the `query` prop.


[Demo](?path=/story/components-graphics-sveltescroller--demo)

```svelte
<!-- App.svelte -->
<script>
  import { SvelteScroller } from '@reuters-graphics/graphics-components';

  // Optional: Bind your own `index`, `progress`, and other bindable variables to use them in your code.
  let myIndex = $state(0);
  let myProgress = $state(0);
</script>

 <SvelteScroller
    bind:index={myIndex}
    bind:progress={myProgress}
    query="div.step-foreground-container"
  >
    {#snippet backgroundSnippet()}
    <!-- Add custom backgroud as a snippet -->
      <div class="custom-background">
        <p>
          This is the background content. It will stay fixed in place while the
          foreground scrolls over the top.
        </p>
      </div>
    {/snippet}
    {#snippet foregroundSnippet()}
        <!-- Add custom foreground as a snippet -->
      <div class="step-foreground-container flex items-center justify-center">
        <p>Index {myIndex}: This is the first section.</p>
      </div>
      <div class="step-foreground-container flex items-center justify-center">
        <p>Index {myIndex}: This is the second section.</p>
      </div>
      <div class="step-foreground-container flex items-center justify-center">
        <p>Index {myIndex}: This is the third section.</p>
      </div>
    {/snippet}
  </SvelteScroller>
```

To add your own styling, you can write styles in a global SCSS stylesheet:

```scss
// global.scss
  .custom-background {
    padding: 20px;
    border-radius: 5px;
    height: 100vh;
  }

  .step-foreground-container {
    height: 100vh;
    p {
      padding: 1em;
      background-color: rgba(162, 220, 231, 0.5);
    }
  }

```
