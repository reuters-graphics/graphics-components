{"version":3,"file":"SEO.stories-d9c761ab.js","sources":["../../src/components/SEO/stories/docs/component.md?raw","../../src/components/SEO/stories/docs/quickit.md?raw","../../src/components/SEO/SEO.svelte","../../src/components/SEO/SEO.stories.svelte"],"sourcesContent":["export default \"The `SEO` component adds essential metadata to published pages.\\n\\n```svelte\\n<script>\\n  import { SEO } from '@reuters-graphics/graphics-components';\\n</script>\\n\\n<SEO\\n  baseUrl=\\\"https://graphics.reuters.com\\\"\\n  pageUrl=\\\"{new URL(\\n    'https://graphics.reuters.com/world-coronavirus-tracker-and-maps/'\\n  )}\\\"\\n  seoTitle=\\\"A title for Google\\\"\\n  seoDescription=\\\"A description for Google\\\"\\n  shareTitle=\\\"A title for Twitter/Facebook\\\"\\n  shareDecription=\\\"A description for Twitter/Facebook\\\"\\n  shareImgPath=\\\"https://graphics.reuters.com/world-coronavirus-tracker-and-maps/assets/images/share.jpg\\\"\\n  shareImgAlt=\\\"An image showing global COVID infection rates\\\"\\n  publishTime=\\\"2020-09-15T00:00:00.000Z\\\"\\n  updateTime=\\\"2021-01-10T12:30:00.000Z\\\"\\n  authors=\\\"{[\\n    { name: 'Jane Doe', url: 'https://twitter.com/JaneDoe' },\\n    { name: 'John Doe', url: 'https://twitter.com/JohnDoe' },\\n  ]}\\\"\\n/>\\n```\\n\"","export default \"Add the `SEO` component to any page specified in the `pages/` directory of the Graphics Kit.\\n\\nMost of the fields are filled in by other sources, like your Google Doc and package.json. (Usually, the fastest way is to copy the `SEO` component from one of the pages already in your project.)\\n\\n> **IMPORTANT:** For _reasons_, we can't document the value of `VITE_BASE_URL` below. It's `import` + `.meta.env.BASE_URL` (concatenate all that) in the Graphics Kit and other Vite-based rigs.\\n\\n```svelte\\n<script>\\n  import { SEO } from '@reuters-graphics/graphics-components';\\n  import pkg from '$pkg';\\n  import content from '$locales/en/content.json';\\n  import { assets } from '$app/paths';\\n  import { page } from '$app/stores';\\n</script>\\n\\n<SEO\\n  baseUrl=\\\"{VITE_BASE_URL}\\\"\\n  pageUrl=\\\"{$page.url}\\\"\\n  seoTitle=\\\"{content.SEOTitle}\\\"\\n  seoDescription=\\\"{content.SEODescription}\\\"\\n  shareTitle=\\\"{content.ShareTitle}\\\"\\n  shareDescription=\\\"{content.ShareDescription}\\\"\\n  shareImgPath=\\\"{`${assets}/${content.ShareImgPath}`}\\\"\\n  shareImgAlt=\\\"{content.ShareImgAlt}\\\"\\n  publishTime=\\\"{pkg?.reuters?.graphic?.published}\\\"\\n  updateTime=\\\"{pkg?.reuters?.graphic?.updated}\\\"\\n  authors=\\\"{pkg?.reuters?.graphic?.authors}\\\"\\n/>\\n```\\n\"","<!-- @component `SEO` [Read the docs.](https://reuters-graphics.github.io/graphics-components/?path=/docs/components-SEO--default) -->\n<script lang=\"ts\">\n  /**\n   * Base url for the page, which in [Vite-based projects](https://vitejs.dev/guide/build.html#public-base-path)\n   * is globally available as `import.meta.env.BASE_URL`.\n   * @requiredx\n   * @type {string}\n   */\n  export let baseUrl: string = '';\n  /**\n   * [URL](https://developer.mozilla.org/en-US/docs/Web/API/URL) object for the page.\n   * @required\n   * @type {URL}\n   */\n  export let pageUrl: URL | null = null;\n\n  /**\n   * SEO title\n   * @required\n   * @type {string}\n   */\n  export let seoTitle: string;\n  /**\n   * SEO description\n   * @required\n   * @type {string}\n   */\n  export let seoDescription: string;\n  /**\n   * Share title\n   * @required\n   * @type {string}\n   */\n  export let shareTitle: string;\n  /**\n   * Share description\n   * @required\n   * @type {string}\n   */\n  export let shareDescription: string;\n  /**\n   * Share image path. **Must be an absolute path.**\n   * @required\n   * @type {string}\n   */\n  export let shareImgPath: string;\n  /**\n   * Share image alt text, up to 420 characters.\n   * @type {string}\n   */\n  export let shareImgAlt: string = '';\n  /**\n   * Publish time as an [ISO string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString)\n   * @type {string}\n   */\n  export let publishTime: string = '';\n  /**\n   * Updated time as an [ISO string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString)\n   * @type {string}\n   */\n  export let updateTime: string = '';\n\n  interface GraphicAuthor {\n    name: string;\n    url: string;\n  }\n\n  /**\n   * Array of authors for the piece. Each author object must have `name` and `url` attributes.\n   */\n  export let authors: GraphicAuthor[] = [];\n\n  const getOrigin = (baseUrl) => {\n    try {\n      return new URL(baseUrl).origin;\n    } catch {\n      // This handles a weird case where Vite's base path is\n      // reset to './' after the app hydrates...\n      if (typeof window !== 'undefined') return getOrigin(window.location.href);\n      return '';\n    }\n  };\n\n  $: origin = getOrigin(baseUrl);\n  $: canonicalUrl = (origin + pageUrl.pathname).replace(/index\\.html\\/$/, '');\n\n  const orgLdJson = {\n    '@context': 'http://schema.org',\n    '@type': 'NewsMediaOrganization',\n    '@id': 'https://www.reuters.com/#publisher',\n    name: 'Reuters',\n    logo: {\n      '@type': 'ImageObject',\n      url: 'https://s3.reutersmedia.net/resources_v2/images/reuters_social_logo.png',\n      width: '200',\n      height: '200',\n    },\n    url: 'https://www.reuters.com/',\n  };\n\n  $: articleLdJson = {\n    '@context': 'http://schema.org',\n    '@type': 'NewsArticle',\n    headline: seoTitle,\n    url: canonicalUrl,\n    mainEntityOfPage: {\n      '@type': 'WebPage',\n      '@id': canonicalUrl,\n    },\n    thumbnailUrl: shareImgPath,\n    image: [\n      {\n        '@context': 'http://schema.org',\n        '@type': 'ImageObject',\n        url: shareImgPath,\n      },\n    ],\n    publisher: { '@id': 'https://www.reuters.com/#publisher' },\n    copyrightHolder: { '@id': 'https://www.reuters.com/#publisher' },\n    sourceOrganization: { '@id': 'https://www.reuters.com/#publisher' },\n    copyrightYear: new Date().getFullYear(),\n    dateCreated: publishTime,\n    datePublished: publishTime,\n    dateModified: updateTime,\n    author: authors.map(({ name, url }) => ({\n      '@type': 'Person',\n      name,\n      url,\n    })),\n    articleSection: 'Graphics',\n    isAccessibleForFree: true,\n    creator: ['Reuters Graphics'],\n    keywords: ['Reuters graphics', 'Reuters', 'graphics', 'Interactives'],\n  };\n</script>\n\n<svelte:head>\n  {#key canonicalUrl}\n    <title>{seoTitle}</title>\n    <meta name=\"description\" content=\"{seoDescription}\" />\n    <link rel=\"canonical\" href=\"{canonicalUrl}\" />\n    <link\n      rel=\"shortcut icon\"\n      type=\"image/x-icon\"\n      href=\"https://s3.reutersmedia.net/resources_v2/images/favicon/favicon.ico\"\n    />\n    <link\n      rel=\"icon\"\n      type=\"image/png\"\n      href=\"https://s3.reutersmedia.net/resources_v2/images/favicon/favicon-16x16.png\"\n      sizes=\"16x16\"\n    />\n    <link\n      rel=\"icon\"\n      type=\"image/png\"\n      href=\"https://s1.reutersmedia.net/resources_v2/images/favicon/favicon-32x32.png\"\n      sizes=\"32x32\"\n    />\n    <link\n      rel=\"icon\"\n      type=\"image/png\"\n      href=\"https://s3.reutersmedia.net/resources_v2/images/favicon/favicon-96x96.png\"\n      sizes=\"96x96\"\n    />\n\n    <meta property=\"og:url\" content=\"{canonicalUrl}\" />\n    <meta property=\"og:type\" content=\"article\" />\n    <meta property=\"og:title\" content=\"{shareTitle}\" itemprop=\"name\" />\n    <meta\n      property=\"og:description\"\n      content=\"{shareDescription}\"\n      itemprop=\"description\"\n    />\n    <meta property=\"og:image\" content=\"{shareImgPath}\" itemprop=\"image\" />\n    <meta property=\"og:site_name\" content=\"Reuters\" />\n\n    <meta name=\"twitter:card\" content=\"summary_large_image\" />\n    <meta name=\"twitter:site\" content=\"@ReutersGraphics\" />\n    <meta name=\"twitter:creator\" content=\"@ReutersGraphics\" />\n    <meta name=\"twitter:domain\" content=\"{origin}\" />\n    <meta name=\"twitter:title\" content=\"{shareTitle}\" />\n    <meta name=\"twitter:description\" content=\"{shareDescription}\" />\n    <meta name=\"twitter:image\" content=\"{shareImgPath}\" />\n    {#if shareImgAlt}\n      <meta name=\"twitter:image:alt\" content=\"{shareImgAlt}\" />\n    {/if}\n\n    <meta property=\"fb:app_id\" content=\"319194411438328\" />\n    <meta property=\"fb:admins\" content=\"616167736\" />\n    <meta property=\"fb:admins\" content=\"625796953\" />\n    <meta property=\"fb:admins\" content=\"571759798\" />\n\n    {@html `<${'script'} type=\"application/ld+json\">${JSON.stringify(\n      orgLdJson\n    )}</script>`}\n    {@html `<${'script'} type=\"application/ld+json\">${JSON.stringify(\n      articleLdJson\n    )}</script>`}\n  {/key}\n</svelte:head>\n","<script>\n  import { Meta, Template, Story } from '@storybook/addon-svelte-csf';\n\n  // @ts-ignore\n  import componentDocs from './stories/docs/component.md?raw';\n  // @ts-ignore\n  import quickitDocs from './stories/docs/quickit.md?raw';\n\n  import SEO from './SEO.svelte';\n\n  import {\n    withComponentDocs,\n    withStoryDocs,\n  } from '$lib/docs/utils/withParams.js';\n</script>\n\n<Meta\n  title=\"Components/SEO\"\n  component=\"{SEO}\"\n  {...withComponentDocs(componentDocs)}\n/>\n\n<Template let:args>\n  <SEO {...args} />\n  <div>Nothing to see here. ðŸ˜Ž</div>\n</Template>\n\n<Story\n  name=\"Default\"\n  args=\"{{\n    baseUrl: 'https://graphics.reuters.com',\n    pageUrl: new URL('https://graphics.reuters.com/hello-world/'),\n    publishTime: new Date('2020-09-15').toISOString(),\n  }}\"\n/>\n\n<Story\n  name=\"ðŸš€ QUICKIT\"\n  args=\"{{\n    baseUrl: 'https://graphics.reuters.com',\n    pageUrl: new URL('https://graphics.reuters.com/hello-world/'),\n    publishTime: new Date('2020-09-15').toISOString(),\n  }}\"\n  {...withStoryDocs(quickitDocs)}\n/>\n"],"names":["componentDocs","quickitDocs","ctx","insert","target","meta","anchor","raw0_value","raw1_value","create_if_block","meta0","link0","link1","link2","link3","link4","meta1","meta2","meta3","meta4","meta5","meta6","meta7","meta8","meta9","meta10","meta11","meta12","meta13","meta14","meta15","meta16","meta17","dirty","html_tag_1","baseUrl","$$props","pageUrl","seoTitle","seoDescription","shareTitle","shareDescription","shareImgPath","shareImgAlt","publishTime","updateTime","authors","getOrigin","orgLdJson","$$invalidate","origin","canonicalUrl","articleLdJson","name","url","div","SEO","withComponentDocs","withStoryDocs"],"mappings":"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"}