{"version":3,"file":"Framer.stories-d37796e3.js","sources":["../../src/components/Framer/stories/docs/component.md?raw","../../src/components/Framer/stores.js","../../src/components/Framer/Resizer/index.svelte","../../src/components/Framer/uniqNames.js","../../src/components/Framer/Typeahead/fuzzy.js","../../node_modules/svelte-search/src/Search.svelte","../../src/components/Framer/Typeahead/index.svelte","../../src/components/Framer/Framer.svelte","../../src/components/Framer/Framer.stories.svelte"],"sourcesContent":["export default \"An embed tool for development in the Graphics Kit.\\n\\n```svelte\\n<script>\\n  import { Framer } from '@reuters-graphics/graphics-components';\\n\\n  const embeds = ['/embeds/my-chart/index.html'];\\n</script>\\n\\n<Framer embeds=\\\"{embeds}\\\" />\\n```\\n\"","import { writable } from 'svelte/store';\n\nexport const width = writable(660);\n","<script>\n  import { faDesktop, faMobileAlt } from '@fortawesome/free-solid-svg-icons';\n  import Fa from 'svelte-fa/src/fa.svelte';\n  import { width } from './../stores.js';\n\n  export let breakpoints = [330, 510, 660, 930, 1200];\n  export let maxFrameWidth = 1200;\n  export let minFrameWidth = 320;\n\n  let container;\n\n  const sliderWidth = 90;\n  let windowInnerWidth = 1200;\n  $: minWidth = minFrameWidth;\n  $: maxWidth = Math.min(windowInnerWidth - 70, maxFrameWidth);\n  $: pixelRange = maxWidth - minWidth;\n  $: if ($width > maxWidth) width.set(maxWidth);\n  $: offset = ($width - minWidth) / pixelRange;\n\n  let sliding = false;\n  let isFocused = false;\n\n  const roundToNearestFive = (d) => Math.ceil(d / 5) * 5;\n  const getPx = () => Math.round(pixelRange * offset + minWidth);\n\n  let pixelLabel = null;\n\n  const move = (e) => {\n    if (!sliding || !container) return;\n    const { left } = container.getBoundingClientRect();\n    offset = Math.min(Math.max(0, e.pageX - left), sliderWidth) / sliderWidth;\n    pixelLabel = roundToNearestFive(getPx());\n  };\n  const handleKeyDown = (e) => {\n    if (!isFocused) return;\n    const { keyCode } = e;\n    const pixelWidth = sliderWidth / pixelRange;\n    // right\n    if (keyCode === 39) {\n      offset = Math.min(1, offset + pixelWidth / sliderWidth);\n      // left\n    } else if (keyCode === 37) {\n      offset = Math.max(0, offset - pixelWidth / sliderWidth);\n    }\n    width.set(getPx());\n  };\n  const start = (e) => {\n    sliding = true;\n    move(e);\n  };\n  const end = () => {\n    sliding = false;\n    pixelLabel = null;\n    width.set(roundToNearestFive(getPx()));\n  };\n  const onFocus = () => {\n    isFocused = true;\n  };\n  const onBlur = () => {\n    isFocused = false;\n  };\n  const increment = () => {\n    const availableBreakpoints = breakpoints\n      .filter((b) => b <= maxWidth)\n      .filter((b) => b > $width);\n    if (availableBreakpoints.length === 0) {\n      width.set(maxWidth);\n    } else {\n      width.set(availableBreakpoints[0]);\n    }\n  };\n  const decrement = () => {\n    const availableBreakpoints = breakpoints.filter((b) => b < $width);\n    if (availableBreakpoints.length === 0) {\n      width.set(minWidth);\n    } else {\n      width.set(availableBreakpoints.slice(-1)[0]);\n    }\n  };\n</script>\n\n<svelte:window\n  on:mousemove=\"{move}\"\n  on:mouseup=\"{end}\"\n  on:keydown=\"{handleKeyDown}\"\n  bind:innerWidth=\"{windowInnerWidth}\"\n/>\n\n<div id=\"resizer\">\n  <div class=\"slider\">\n    <div class=\"label\" style=\"{`opacity: ${sliding || isFocused ? 1 : 0};`}\">\n      {pixelLabel || $width}px\n    </div>\n    <button\n      class=\"icon left\"\n      disabled=\"{$width === minWidth}\"\n      on:click=\"{decrement}\"\n      on:focus=\"{onFocus}\"\n      on:mouseover=\"{onFocus}\"\n      on:mouseleave=\"{onBlur}\"\n    >\n      <Fa icon=\"{faMobileAlt}\" fw />\n    </button>\n    <div class=\"slider-container\" bind:this=\"{container}\">\n      <div class=\"track\"></div>\n      <div\n        class=\"handle\"\n        tabindex=\"0\"\n        style=\"left: calc({offset * 100}% - 5px);\"\n        on:mousedown=\"{start}\"\n        on:focus=\"{onFocus}\"\n        on:blur=\"{onBlur}\"\n      ></div>\n    </div>\n    <button\n      class=\"icon right\"\n      disabled=\"{$width === maxWidth}\"\n      on:click=\"{increment}\"\n      on:focus=\"{onFocus}\"\n      on:mouseover=\"{onFocus}\"\n      on:mouseleave=\"{onBlur}\"\n    >\n      <Fa icon=\"{faDesktop}\" fw />\n    </button>\n  </div>\n</div>\n\n<style lang=\"scss\">\n  #resizer {\n    width: 250px;\n    position: fixed;\n    bottom: 0px;\n    right: 0px;\n    padding: 15px;\n\n    .slider {\n      width: 100%;\n      display: flex;\n      justify-content: flex-end;\n      align-items: center;\n      & > div,\n      button {\n        display: inline-block;\n      }\n    }\n\n    div.label {\n      font-family: monospace;\n      font-size: 13px;\n      line-height: 13px;\n      text-align: center;\n      transition: opacity 0.2s;\n      color: grey;\n      background-color: rgba(255, 255, 255, 0.8);\n      padding: 4px 8px;\n      border-radius: 4px;\n      margin-right: 5px;\n    }\n    button.icon {\n      font-size: 14px;\n      line-height: 14px;\n      color: #bbb;\n      cursor: pointer;\n      background-color: transparent;\n      border: 0;\n      &:active,\n      &:focus {\n        outline: none;\n      }\n      &:hover {\n        color: #999;\n      }\n      &:active {\n        transform: translate(1px, 1px);\n      }\n      &[disabled] {\n        color: #ccc;\n        cursor: default;\n        &:hover {\n          color: #ccc;\n        }\n        &:active {\n          transform: translate(0px, 0px);\n        }\n      }\n      &.left {\n        text-align: right;\n        padding-right: 3px;\n      }\n      &.right {\n        padding-left: 6px;\n        text-align: left;\n      }\n    }\n    div.slider-container {\n      width: 90px;\n      height: 20px;\n      position: relative;\n\n      div.track {\n        height: 4px;\n        width: 100%;\n        position: absolute;\n        border-radius: 2px;\n        top: calc(50% - 2px);\n        background-color: lightgrey;\n      }\n    }\n  }\n\n  .handle {\n    z-index: 30;\n    width: 10px;\n    height: 20px;\n    cursor: ew-resize;\n    background: #bbb;\n    user-select: none;\n    position: absolute;\n    border-radius: 4px;\n    border: 1px solid grey;\n    top: calc(50% - 10px);\n    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);\n    &:active,\n    &:focus {\n      outline: none;\n    }\n  }\n</style>\n","export default (embeds) => {\n  const nakedEmbeds = embeds\n    .map((e) => e.replace(/\\?.+$/, ''))\n    .map((e) => e.replace(/index\\.html$/, ''))\n    .map((e) => e.replace(/^http[s]*:\\/\\/[\\w.]+\\.com/, ''));\n\n  // If just one, get the last path part\n  if (nakedEmbeds.length === 1) {\n    return [\n      nakedEmbeds[0]\n        .split('/')\n        .filter((d) => d)\n        .slice(-1)[0],\n    ];\n  }\n\n  // If many, test each path part for unique-ness\n  const test = nakedEmbeds[0];\n  let replacementForward = 0;\n  for (const i in test.split('/')) {\n    const pathPart = test.split('/')[i];\n    const notUniq = nakedEmbeds.every((e) => e.split('/')[i] === pathPart);\n    if (notUniq) {\n      replacementForward += 1;\n    } else {\n      break;\n    }\n  }\n\n  if (replacementForward === test.split('/').length) return nakedEmbeds;\n\n  let replacementBackward = 0;\n  for (const i in test.split('/').reverse()) {\n    const pathPart = test.split('/').reverse()[i];\n    const notUniq = nakedEmbeds.every(\n      (e) => e.split('/').reverse()[i] === pathPart\n    );\n    if (notUniq) {\n      replacementBackward += 1;\n    } else {\n      break;\n    }\n  }\n\n  return nakedEmbeds.map((e) => {\n    if (replacementBackward > 0) {\n      return e\n        .split('/')\n        .slice(replacementForward, replacementBackward * -1)\n        .join('/');\n    }\n    return e.split('/').slice(replacementForward).join('/');\n  });\n};\n","/*\n * Fuzzy\n * https://github.com/myork/fuzzy\n *\n * Copyright (c) 2012 Matt York\n * Licensed under the MIT license.\n */\n\nconst fuzzy = {};\n\n// Return all elements of `array` that have a fuzzy\n// match against `pattern`.\nfuzzy.simpleFilter = function (pattern, array) {\n  return array.filter(function (str) {\n    return fuzzy.test(pattern, str);\n  });\n};\n\n// Does `pattern` fuzzy match `str`?\nfuzzy.test = function (pattern, str) {\n  return fuzzy.match(pattern, str) !== null;\n};\n\n// If `pattern` matches `str`, wrap each matching character\n// in `opts.pre` and `opts.post`. If no match, return null\nfuzzy.match = function (pattern, str, opts) {\n  opts = opts || {};\n  let patternIdx = 0;\n  const result = [];\n  const len = str.length;\n  let totalScore = 0;\n  let currScore = 0;\n  // prefix\n  const pre = opts.pre || '';\n  // suffix\n  const post = opts.post || '';\n  // String to compare against. This might be a lowercase version of the\n  // raw string\n  const compareString = (opts.caseSensitive && str) || str.toLowerCase();\n  let ch;\n\n  pattern = (opts.caseSensitive && pattern) || pattern.toLowerCase();\n\n  // For each character in the string, either add it to the result\n  // or wrap in template if it's the next string in the pattern\n  for (let idx = 0; idx < len; idx++) {\n    ch = str[idx];\n    if (compareString[idx] === pattern[patternIdx]) {\n      ch = pre + ch + post;\n      patternIdx += 1;\n\n      // consecutive characters should increase the score more than linearly\n      currScore += 1 + currScore;\n    } else {\n      currScore = 0;\n    }\n    totalScore += currScore;\n    result[result.length] = ch;\n  }\n\n  // return rendered string if we have a match for every char\n  if (patternIdx === pattern.length) {\n    // if the string is an exact match with pattern, totalScore should be maxed\n    totalScore = compareString === pattern ? Infinity : totalScore;\n    return { rendered: result.join(''), score: totalScore };\n  }\n\n  return null;\n};\n\n// The normal entry point. Filters `arr` for matches against `pattern`.\n// It returns an array with matching values of the type:\n//\n//     [{\n//         string:   '<b>lah' // The rendered string\n//       , index:    2        // The index of the element in `arr`\n//       , original: 'blah'   // The original element in `arr`\n//     }]\n//\n// `opts` is an optional argument bag. Details:\n//\n//    opts = {\n//        // string to put before a matching character\n//        pre:     '<b>'\n//\n//        // string to put after matching character\n//      , post:    '</b>'\n//\n//        // Optional function. Input is an entry in the given arr`,\n//        // output should be the string to test `pattern` against.\n//        // In this example, if `arr = [{crying: 'koala'}]` we would return\n//        // 'koala'.\n//      , extract: function(arg) { return arg.crying; }\n//    }\nfuzzy.filter = function (pattern, arr, opts) {\n  if (!arr || arr.length === 0) {\n    return [];\n  }\n  if (typeof pattern !== 'string') {\n    return arr;\n  }\n  opts = opts || {};\n  return (\n    arr\n      .reduce(function (prev, element, idx, arr) {\n        let str = element;\n        if (opts.extract) {\n          str = opts.extract(element);\n        }\n        const rendered = fuzzy.match(pattern, str, opts);\n        if (rendered != null) {\n          prev[prev.length] = {\n            string: rendered.rendered,\n            score: rendered.score,\n            index: idx,\n            original: element,\n          };\n        }\n        return prev;\n      }, [])\n\n      // Sort by score. Browsers are inconsistent wrt stable/unstable\n      // sorting, so force stable by using the index in the case of tie.\n      // See http://ofb.net/~sethml/is-sort-stable.html\n      .sort(function (a, b) {\n        const compare = b.score - a.score;\n        if (compare) return compare;\n        return a.index - b.index;\n      })\n  );\n};\n\nexport default fuzzy;\n","<script>\n  /**\n   * Specify the input value\n   */\n  export let value = \"\";\n\n  /**\n   * Set to `true` to auto focus the input on mount\n   */\n  export let autofocus = false;\n\n  /**\n   * Specify the debounce value in milliseconds (ms)\n   */\n  export let debounce = 0;\n\n  /**\n   * Specify the input label text\n   */\n  export let label = \"Label\";\n\n  /**\n   * Set to `true` to visually hide the label\n   */\n  export let hideLabel = false;\n\n  /**\n   * Specify an `id` for the `input`\n   */\n  export let id = \"search\" + Math.random().toString(36);\n\n  /**\n   * Obtain a reference to the `input` element\n   * @type {HTMLInputElement}\n   */\n  export let ref = null;\n\n  /**\n   * Set to `true` to omit the form `role=\"search\"` attribute\n   */\n  export let removeFormAriaAttributes = false;\n\n  import { createEventDispatcher, onMount, afterUpdate } from \"svelte\";\n\n  const dispatch = createEventDispatcher();\n\n  let prevValue = value;\n  let timeout = undefined;\n  let calling = false;\n\n  /** @type {() => any;} */\n  function debounceFn(fn) {\n    if (calling) return;\n    calling = true;\n    timeout = setTimeout(() => {\n      fn();\n      calling = false;\n    }, debounce);\n  }\n\n  onMount(() => {\n    if (autofocus) window.requestAnimationFrame(() => ref.focus());\n    return () => clearTimeout(timeout);\n  });\n\n  afterUpdate(() => {\n    if (value.length > 0 && value !== prevValue) {\n      if (debounce > 0) {\n        debounceFn(() => dispatch(\"type\", value));\n      } else {\n        dispatch(\"type\", value);\n      }\n    }\n\n    if (value.length === 0 && prevValue.length > 0) dispatch(\"clear\");\n\n    prevValue = value;\n  });\n</script>\n\n<form\n  data-svelte-search\n  role={removeFormAriaAttributes ? null : \"search\"}\n  aria-labelledby={removeFormAriaAttributes ? null : id}\n  on:submit|preventDefault\n>\n  <label\n    id=\"{id}-label\"\n    for={id}\n    style={hideLabel &&\n      \"position: absolute;height: 1px;width: 1px;overflow: hidden;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);white-space: nowrap;\"}\n  >\n    <slot name=\"label\">{label}</slot>\n  </label>\n  <input\n    bind:this={ref}\n    name=\"search\"\n    type=\"search\"\n    placeholder=\"Search...\"\n    autocomplete=\"off\"\n    spellcheck=\"false\"\n    {...$$restProps}\n    {id}\n    bind:value\n    on:input\n    on:change\n    on:focus\n    on:blur\n    on:keydown\n  />\n</form>\n","<script>\n  /**\n   * @typedef {Object} TItem\n   * @property {number} index\n   * @property {string} embed\n   */\n\n  export let id = 'typeahead-' + Math.random().toString(36);\n  export let value = '';\n\n  /** @type {TItem[]} */\n  export let data = [];\n\n  /** @type {(item: TItem) => any} */\n  export let extract = (item) => item;\n\n  /** @type {(item: TItem) => boolean} */\n  export let disable = (item) => false;\n\n  /** @type {(item: TItem) => boolean} */\n  export let filter = (item) => false;\n\n  /** Set to `false` to prevent the first result from being selected */\n  export let autoselect = true;\n\n  /**\n   * Set to `keep` to keep the search field unchanged after select, set to `clear` to auto-clear search field\n   * @type {\"update\" | \"clear\" | \"keep\"}\n   */\n  export let inputAfterSelect = 'update';\n\n  /** @type {{ original: TItem; index: number; score: number; string: string; disabled?: boolean; }[]} */\n  export let results = [];\n\n  /** Set to `true` to re-focus the input after selecting a result */\n  export let focusAfterSelect = false;\n\n  /** Set to `true` to only show results when the input is focused */\n  export let showDropdownOnFocus = false;\n\n  /**\n   * Specify the maximum number of results to return\n   * @type {number}\n   */\n  export let limit = Infinity;\n\n  import fuzzy from './fuzzy.js';\n  import Search from 'svelte-search';\n  import { tick, createEventDispatcher, afterUpdate } from 'svelte';\n\n  const dispatch = createEventDispatcher();\n\n  let comboboxRef = null;\n  let searchRef = null;\n  let hideDropdown = false;\n  let selectedIndex = -1;\n  let prevResults = '';\n  let isFocused = false;\n\n  afterUpdate(() => {\n    if (prevResults !== resultsId && autoselect) {\n      selectedIndex = getNextNonDisabledIndex();\n    }\n\n    if (prevResults !== resultsId && !$$slots['no-results']) {\n      hideDropdown = results.length === 0;\n    }\n\n    prevResults = resultsId;\n  });\n\n  async function select() {\n    const result = results[selectedIndex];\n\n    if (result.disabled) return;\n\n    const selectedValue = extract(result.original);\n    const searchedValue = value;\n\n    if (inputAfterSelect === 'clear') value = '';\n    if (inputAfterSelect === 'update') value = selectedValue;\n\n    dispatch('select', {\n      selectedIndex,\n      searched: searchedValue,\n      selected: selectedValue,\n      original: result.original,\n      originalIndex: result.index,\n    });\n\n    await tick();\n\n    if (focusAfterSelect) searchRef.focus();\n    close();\n  }\n\n  /** @type {() => number} */\n  function getNextNonDisabledIndex() {\n    let index = 0;\n    let disabled = results[index]?.disabled ?? false;\n\n    while (disabled) {\n      if (index === results.length) {\n        index = 0;\n      } else {\n        index += 1;\n      }\n\n      disabled = results[index]?.disabled ?? false;\n    }\n\n    return index;\n  }\n\n  /** @type {(direction: -1 | 1) => void} */\n  function change(direction) {\n    let index =\n      direction === 1 && selectedIndex === results.length - 1\n        ? 0\n        : selectedIndex + direction;\n    if (index < 0) index = results.length - 1;\n\n    let disabled = results[index].disabled;\n\n    while (disabled) {\n      if (index === results.length) {\n        index = 0;\n      } else {\n        index += direction;\n      }\n\n      disabled = results[index].disabled;\n    }\n\n    selectedIndex = index;\n  }\n\n  const open = () => (hideDropdown = false);\n  const close = () => (hideDropdown = true);\n\n  $: options = { pre: '<mark>', post: '</mark>', extract };\n  $: results =\n    value !== ''\n      ? fuzzy\n          .filter(value, data, options)\n          .filter(({ score }) => score > 0)\n          .slice(0, limit)\n          .filter((result) => !filter(result.original))\n          .map((result) => ({ ...result, disabled: disable(result.original) }))\n      : data.map((d) => ({ string: extract(d), original: d }));\n\n  $: resultsId = results.map((result) => extract(result.original)).join('');\n  $: showResults = !hideDropdown && results.length > 0 && isFocused;\n  $: if (showDropdownOnFocus) {\n    showResults = showResults && isFocused;\n  }\n</script>\n\n<svelte:window\n  on:click=\"{({ target }) => {\n    if (!hideDropdown && !comboboxRef?.contains(target)) {\n      close();\n    }\n  }}\"\n/>\n\n<div\n  data-svelte-typeahead\n  bind:this=\"{comboboxRef}\"\n  role=\"combobox\"\n  aria-haspopup=\"listbox\"\n  aria-owns=\"{id}-listbox\"\n  class:dropdown=\"{results.length > 0}\"\n  aria-expanded=\"{showResults ||\n    (isFocused && value.length > 0 && results.length === 0)}\"\n  id=\"{id}-typeahead\"\n>\n  <Search\n    id=\"{id}\"\n    removeFormAriaAttributes=\"{true}\"\n    {...$$restProps}\n    bind:ref=\"{searchRef}\"\n    aria-autocomplete=\"list\"\n    aria-controls=\"{id}-listbox\"\n    aria-labelledby=\"{id}-label\"\n    aria-activedescendant=\"{selectedIndex >= 0 &&\n    !hideDropdown &&\n    results.length > 0\n      ? `${id}-result-${selectedIndex}`\n      : null}\"\n    bind:value=\"{value}\"\n    on:type\n    on:input\n    on:change\n    on:focus\n    on:focus=\"{() => {\n      open();\n      if (showDropdownOnFocus) {\n        showResults = true;\n        isFocused = true;\n      }\n    }}\"\n    on:clear\n    on:clear=\"{open}\"\n    on:blur\n    on:keydown\n    on:keydown=\"{(e) => {\n      if (results.length === 0) return;\n\n      switch (e.key) {\n        case 'Enter':\n          select();\n          break;\n        case 'ArrowDown':\n          e.preventDefault();\n          change(1);\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          change(-1);\n          break;\n        case 'Escape':\n          e.preventDefault();\n          value = '';\n          searchRef?.focus();\n          close();\n          break;\n      }\n    }}\"\n  />\n  <ul\n    class:svelte-typeahead-list=\"{true}\"\n    role=\"listbox\"\n    aria-labelledby=\"{id}-label\"\n    id=\"{id}-listbox\"\n  >\n    {#if showResults}\n      {#each results as result, index}\n        <li\n          role=\"option\"\n          id=\"{id}-result-{index}\"\n          class:selected=\"{selectedIndex === index}\"\n          class:disabled=\"{result.disabled}\"\n          aria-selected=\"{selectedIndex === index}\"\n          on:click=\"{() => {\n            if (result.disabled) return;\n            selectedIndex = index;\n            select();\n          }}\"\n          on:mouseenter=\"{() => {\n            if (result.disabled) return;\n            selectedIndex = index;\n          }}\"\n        >\n          <slot result=\"{result}\" index=\"{index}\" value=\"{value}\">\n            {@html result.string}\n          </slot>\n        </li>\n      {/each}\n    {/if}\n    {#if value.length > 0 && results.length === 0}\n      <li class=\"no-results disabled\">No embeds found...</li>\n    {/if}\n  </ul>\n</div>\n\n<style lang=\"scss\">\n  @import '../../../scss/mixins';\n\n  [data-svelte-typeahead] {\n    position: relative;\n  }\n\n  ul {\n    position: absolute;\n    top: 100%;\n    left: 0;\n    width: 100%;\n    padding: 0;\n    margin: 0;\n    list-style: none;\n    background-color: #fff;\n  }\n\n  [aria-expanded='true'] ul {\n    z-index: 1;\n    border: 1px solid #ddd;\n    max-height: 50vh;\n    overflow-y: scroll;\n  }\n\n  li,\n  li.no-results {\n    padding: 0.25rem 1rem;\n    @include font-sans;\n    color: #333;\n  }\n  li.no-results {\n    color: #333;\n    font-size: 0.85rem;\n    font-style: italic;\n  }\n\n  li {\n    cursor: pointer;\n    :global(mark) {\n      padding: 0;\n      background-color: #ffff9a;\n    }\n  }\n\n  li:not(:last-of-type) {\n    border-bottom: 1px solid #e0e0e0;\n  }\n\n  li:hover {\n    background-color: #efefef;\n  }\n\n  .selected {\n    background-color: #efefef;\n  }\n\n  .selected:hover {\n    background-color: #e5e5e5;\n  }\n\n  .disabled {\n    opacity: 0.4;\n    cursor: not-allowed;\n  }\n\n  :global([data-svelte-search] label) {\n    margin-bottom: 0.25rem;\n    display: inline-flex;\n    font-size: 0.75rem;\n    color: #aaa;\n    @include font-sans;\n  }\n\n  :global([data-svelte-search] input) {\n    width: 100%;\n    padding: 0.5rem 0.75rem;\n    background: none;\n    font-size: 1rem;\n    border: 0;\n    border-radius: 0 !important;\n    background-color: #fff;\n    border: 1px solid #ddd;\n    @include font-sans;\n  }\n\n  :global([data-svelte-search] input:focus) {\n    outline: none;\n    border: 1px solid #ccc;\n  }\n</style>\n","<script>\n  import Fa from 'svelte-fa/src/fa.svelte';\n  import { faDesktop, faLink } from '@fortawesome/free-solid-svg-icons';\n  import { onMount, afterUpdate } from 'svelte';\n  import pym from 'pym.js';\n  import urljoin from 'proper-url-join';\n  import Resizer from './Resizer/index.svelte';\n  import { width } from './stores.js';\n  import getUniqNames from './uniqNames.js';\n  import Typeahead from './Typeahead/index.svelte';\n\n  export let embeds;\n  export let breakpoints = [330, 510, 660, 930, 1200];\n  export let minFrameWidth = 320;\n  export let maxFrameWidth = 1200;\n\n  const getDefaultEmbed = () => {\n    if (typeof window === 'undefined') return embeds[0];\n    const lastActiveEmbed = window.localStorage.getItem('framer-active-embed');\n    if (!lastActiveEmbed) return embeds[0];\n    if (embeds.indexOf(lastActiveEmbed) > -1) return lastActiveEmbed;\n    return embeds[0];\n  };\n\n  let activeEmbed = getDefaultEmbed();\n  let activeEmbedIndex = embeds.indexOf(activeEmbed);\n\n  $: embedTitles = getUniqNames(embeds);\n\n  // @ts-ignore\n  let pymParent;\n\n  const reframe = (embed) => {\n    // Bit of hack for handling adding query strings dynamically to embeds.\n    // cf. also the value prop on the Typeahead component...\n    const activeEmbed =\n      embeds.indexOf(embed) > -1\n        ? embed\n        : embeds[activeEmbedIndex] || embeds[0];\n    pymParent = new pym.Parent(\n      'frame-parent',\n      /^http/.test(activeEmbed)\n        ? activeEmbed\n        : urljoin(window.location.origin, activeEmbed, { trailingSlash: true })\n    );\n  };\n\n  onMount(() => {\n    reframe(activeEmbed);\n  });\n\n  afterUpdate(() => {\n    reframe(activeEmbed);\n  });\n</script>\n\n<div class=\"container\">\n  <header>\n    <img\n      src=\"https://graphics.thomsonreuters.com/style-assets/images/logos/reuters-graphics-logo/svg/graphics-logo-dark.svg\"\n      alt=\"\"\n    />\n  </header>\n\n  <div id=\"typeahead-container\">\n    <div class=\"embed-link\">\n      <a\n        rel=\"external\"\n        target=\"_blank\"\n        href=\"{activeEmbed}\"\n        title=\"{activeEmbed}\"\n      >\n        Live link <Fa icon=\"{faLink}\" />\n      </a>\n    </div>\n    <Typeahead\n      label=\"Select an embed\"\n      value=\"{embedTitles[embeds.indexOf(activeEmbed)] ||\n        embedTitles[activeEmbedIndex] ||\n        embedTitles[0]}\"\n      extract=\"{(d) => embedTitles[d.index]}\"\n      data=\"{embeds.map((embed, index) => ({ index, embed }))}\"\n      placeholder=\"{'Search'}\"\n      showDropdownOnFocus=\"{true}\"\n      on:select=\"{({ detail }) => {\n        if (typeof window !== 'undefined') {\n          window.localStorage.setItem(\n            'framer-active-embed',\n            detail.original.embed\n          );\n        }\n        activeEmbed = detail.original.embed;\n        activeEmbedIndex = detail.original.index;\n      }}\"\n    />\n  </div>\n\n  <div id=\"preview-label\" style=\"width:{$width}px;\">\n    <p>Preview</p>\n  </div>\n  <div id=\"frame-parent\" style=\"width:{$width}px;\"></div>\n</div>\n\n<div id=\"home-link\">\n  <a rel=\"external\" href=\"./../\">\n    <Fa icon=\"{faDesktop}\" />\n  </a>\n</div>\n\n<Resizer\n  breakpoints=\"{breakpoints}\"\n  minFrameWidth=\"{minFrameWidth}\"\n  maxFrameWidth=\"{maxFrameWidth}\"\n/>\n\n<style lang=\"scss\">\n  header {\n    font-family: 'Knowledge', 'Source Sans Pro', Arial, sans-serif;\n    font-size: 50px;\n    text-align: center;\n    text-transform: uppercase;\n    font-weight: 700;\n    margin: 20px 0;\n  }\n\n  div#typeahead-container {\n    max-width: 660px;\n    margin: 0 auto 15px;\n    position: relative;\n  }\n  div#typeahead-container div.embed-link {\n    position: absolute;\n    top: 0;\n    right: 0;\n    display: inline-block;\n    z-index: 2;\n  }\n  div#typeahead-container div.embed-link a {\n    font-family: 'Knowledge', 'Source Sans Pro', Arial, sans-serif;\n    color: #bbb;\n    font-size: 12px;\n    text-decoration: none !important;\n  }\n  div#typeahead-container div.embed-link a:hover {\n    color: #666;\n  }\n\n  div#preview-label {\n    margin: 0 auto;\n  }\n  div#preview-label p {\n    font-family: 'Knowledge', 'Source Sans Pro', Arial, sans-serif;\n    color: #aaa;\n    font-size: 0.75rem;\n    margin: 0 0 0.25rem;\n  }\n\n  #frame-parent {\n    border: 1px solid #ddd;\n    margin: 0 auto;\n    width: var(--width);\n    :global(iframe) {\n      display: block;\n    }\n  }\n\n  div#home-link {\n    position: fixed;\n    bottom: 5px;\n    left: 10px;\n    font-size: 18px;\n  }\n  div#home-link a {\n    color: #ccc;\n  }\n  div#home-link a:hover {\n    color: #666;\n  }\n</style>\n","<script>\n  import { Meta, Template, Story } from '@storybook/addon-svelte-csf';\n\n  // @ts-ignore\n  import componentDocs from './stories/docs/component.md?raw';\n\n  import Framer from './Framer.svelte';\n\n  import { withComponentDocs } from '$lib/docs/utils/withParams.js';\n</script>\n\n<Meta\n  title=\"Components/Framer\"\n  component=\"{Framer}\"\n  {...withComponentDocs(componentDocs)}\n/>\n\n<Template let:args>\n  <Framer {...args} />\n</Template>\n\n<Story\n  name=\"Default\"\n  args=\"{{\n    embeds: [\n      'https://graphics.reuters.com/USA-CONGRESS/FUNDRAISING/zjvqkawjlvx/embeds/en/embed/?zzz',\n    ],\n  }}\"\n/>\n"],"names":["componentDocs","width","writable","t0_value","ctx","faMobileAlt","faDesktop","attr","div0","div0_style_value","button0","button0_disabled_value","set_style","div2","button1","button1_disabled_value","insert","target","div5","anchor","append","div4","div3","div1","current","dirty","set_data","t0","sliderWidth","breakpoints","$$props","maxFrameWidth","minFrameWidth","container","windowInnerWidth","sliding","isFocused","roundToNearestFive","d","getPx","pixelRange","offset","minWidth","pixelLabel","move","e","left","$$invalidate","handleKeyDown","keyCode","pixelWidth","start","end","onFocus","onBlur","increment","availableBreakpoints","b","maxWidth","$width","decrement","$$value","getUniqNames","embeds","nakedEmbeds","test","replacementForward","i","pathPart","replacementBackward","fuzzy","pattern","array","str","opts","patternIdx","result","len","totalScore","currScore","pre","post","compareString","ch","idx","arr","prev","element","rendered","compare","label_1","label_1_style_value","form","input","value","autofocus","debounce","label","hideLabel","id","ref","removeFormAriaAttributes","dispatch","createEventDispatcher","prevValue","timeout","calling","debounceFn","fn","onMount","afterUpdate","each_blocks","raw_value","html_tag","li","li_id_value","li_aria_selected_value","toggle_class","create_if_block_1","create_if_block","div","div_aria_expanded_value","ul","data","extract","item","disable","filter","autoselect","inputAfterSelect","results","focusAfterSelect","showDropdownOnFocus","limit","comboboxRef","searchRef","hideDropdown","selectedIndex","prevResults","resultsId","getNextNonDisabledIndex","$$slots","select","selectedValue","searchedValue","tick","close","index","disabled","_a","_b","change","direction","open","value$1","showResults","options","score","faLink","func_1","header","a0","a1","typeahead_changes","embed","activeEmbed","lastActiveEmbed","activeEmbedIndex","reframe","pym","urljoin","func","embedTitles","detail","Framer","withComponentDocs"],"mappings":"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","x_google_ignoreList":[5]}